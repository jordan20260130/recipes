#!/bin/bash
# Recipes collection context

echo "# Recipes Collection"
echo ""
echo "## Contents"
echo ""

# List all .md files with titles (extract from filename or first H1)
for f in *.md; do
    if [ -f "$f" ]; then
        # Look for first # heading, or use filename
        title=$(grep -m1 '^# ' "$f" | sed 's/^# //' | head -1)
        if [ -z "$title" ]; then
            title=$(basename "$f" .md | tr '-' ' ' | sed 's/\b\(.\)/\u\1/')
        fi
        echo "- **$f** â€” $title"
    fi
done

echo ""
echo "## Stats"
echo "- Recipes: $(ls -1 *.md 2>/dev/null | wc -l)"
echo "- Last commit: $(git log -1 --format='%h %s' 2>/dev/null)"
echo ""
